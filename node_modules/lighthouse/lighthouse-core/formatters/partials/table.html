{{#createTable tableHeadings results }}

{{#if rows}}
<details class="subitem__details">
  <summary class="subitem__detail">View details</summary>
  <table class="table_list {{#ifNotEq headings.length 2}}multicolumn{{/ifNotEq}}">
    <thead>
      <tr>
        {{#each ../tableHeadings}}
          <th class="table-column table-column-{{ kebabCase @key }}">{{this}}</th>
        {{/each}}
      </tr>
    </thead>
    <tbody>
      {{#each rows}}
        <tr>
          {{#each cols}}
            <td class="table-column table-column-{{ kebabCase (lookup ../../headingKeys @index) }}">{{ sanitize this}}</td>
          {{/each}}
        </tr>
      {{/each}}
    </tbody>
  </table>
</details>
{{/if}}

{{/createTable}}
